# Data Directory

This directory contains GPS signal data for spoofing detection.

## FGI-SpoofRepo Dataset

The pipeline is designed to work with the FGI-SpoofRepo (Finnish Geospatial Research Institute GPS Spoofing Repository) dataset.

### Download Instructions

1. **Access the Dataset**
   - Visit the FGI-SpoofRepo website or GitHub repository
   - The dataset contains real GPS signals with known spoofing scenarios

2. **Download Data Files**
   - Download the GPS signal recordings (typically `.bin` or `.dat` files)
   - Download associated metadata and documentation

3. **Organize Files**
   - Place downloaded files in this `data/` directory
   - Organize by scenario if multiple scenarios are available

### Expected Structure

```
data/
├── README.md           # This file
├── scenario1/          # Example scenario directory
│   ├── authentic.bin   # Pre-spoofing authentic signals
│   ├── spoofed.bin     # Spoofed signals
│   └── metadata.json   # Metadata (if available)
├── scenario2/
│   └── ...
└── processed/          # Processed data (generated by pipeline)
    └── features.csv
```

## Data Formats

### Supported Input Formats

1. **Binary IQ Data** (`.bin`, `.dat`)
   - Raw I/Q samples stored as int16
   - Interleaved format: I₀, Q₀, I₁, Q₁, ...
   - Typical sampling rate: 5 MHz
   - 4 bytes per I/Q pair (2 bytes per component)

2. **MATLAB Files** (`.mat`)
   - Processed signals with metadata
   - Expected keys: 'signal', 'data', 'sig', 'iq_data'
   - May include sampling rate, PRN, and other metadata

3. **CSV Files** (`.csv`)
   - Tabulated signal data
   - Columns: 'I' and 'Q' for I/Q components
   - Or pre-extracted features

### Output Formats

The pipeline generates:
- **features.csv**: Extracted features for classification
- **predictions.csv**: Model predictions
- **models/**: Trained model files (`.joblib`)

## Dataset Characteristics

### GPS L1 C/A Signal Parameters

- **Center Frequency**: 1575.42 MHz
- **C/A Code Chip Rate**: 1.023 MHz
- **Code Length**: 1023 chips (≈1 ms)
- **Typical Sampling Rate**: 5 MHz or higher
- **Bandwidth**: ~2 MHz (null-to-null)

### Spoofing Scenarios

FGI-SpoofRepo typically includes:
1. **Authentic signals**: Pre-spoofing baseline
2. **Meaconing**: Replay attacks with delay
3. **Signal synthesis**: Generated fake GPS signals
4. **Seamless takeover**: Gradual power increase

### Labeling Convention

- **Label 0**: Authentic GPS signal
- **Label 1**: Spoofed GPS signal

The pipeline uses time-based labeling:
- Signals before `SPOOF_START_TIME_S` → Label 0
- Signals after `SPOOF_START_TIME_S` → Label 1

## Data Preparation Tips

### 1. Data Validation

Before running the pipeline, verify:
- File format matches expected format
- Sampling rate is known and consistent
- Files are not corrupted

### 2. Storage Recommendations

- **Raw binary files**: Can be large (GB scale)
- Use `.gitignore` to avoid committing large data files
- Consider compression for long-term storage

### 3. Synthetic Data

If real data is not available, use synthetic data:
```bash
python scripts/script_run_pipeline.py --synthetic
```

This generates GPS-like signals for testing.

## Data Security and Privacy

- GPS signal data may contain sensitive location information
- Ensure compliance with data protection regulations
- Do not share raw data without proper authorization
- Anonymize location metadata when sharing results

## Citation

If using FGI-SpoofRepo data, please cite:
```
[FGI-SpoofRepo citation - to be added based on dataset documentation]
```

## Troubleshooting

### Issue: "File not found" error
- Verify data files are in the correct directory
- Check file paths in configuration

### Issue: "Unsupported format" error
- Ensure file extension is `.mat`, `.csv`, `.bin`, or `.dat`
- Check file is not corrupted

### Issue: "Insufficient data" warning
- Verify data files contain enough samples
- Minimum recommended: 1 second of data at 5 MHz = 5M samples

## Contact

For data-related questions:
- Check FGI-SpoofRepo documentation
- Open an issue on the project GitHub
